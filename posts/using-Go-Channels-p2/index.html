<!DOCTYPE html> <html lang="en" > <head> <meta charset="utf-8"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Using Go Channels - Part 2 - Buffered Channels | g14a</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Using Go Channels - Part 2 - Buffered Channels" /> <meta name="author" content="g14a" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A Tiny Recap" /> <meta property="og:description" content="A Tiny Recap" /> <link rel="canonical" href="https://g14a.github.io/posts/using-Go-Channels-p2/" /> <meta property="og:url" content="https://g14a.github.io/posts/using-Go-Channels-p2/" /> <meta property="og:site_name" content="g14a" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2021-04-08T13:23:00+05:30" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Using Go Channels - Part 2 - Buffered Channels" /> <meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"g14a"},"dateModified":"2021-04-08T13:23:00+05:30","datePublished":"2021-04-08T13:23:00+05:30","description":"A Tiny Recap","headline":"Using Go Channels - Part 2 - Buffered Channels","mainEntityOfPage":{"@type":"WebPage","@id":"https://g14a.github.io/posts/using-Go-Channels-p2/"},"url":"https://g14a.github.io/posts/using-Go-Channels-p2/"}</script> <!-- End Jekyll SEO tag --> </head> <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta name="theme" content="Chirpy v2.7.2"> <meta name="google-site-verification" content="Uq5Ws_S7HFCjNgyIIOGXi76bInqos1mAvxiCrJspc8U" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Using Go Channels - Part 2 - Buffered Channels | g14a</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Using Go Channels - Part 2 - Buffered Channels" /> <meta name="author" content="g14a" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A Tiny Recap" /> <meta property="og:description" content="A Tiny Recap" /> <link rel="canonical" href="https://g14a.github.io/posts/using-Go-Channels-p2/" /> <meta property="og:url" content="https://g14a.github.io/posts/using-Go-Channels-p2/" /> <meta property="og:site_name" content="g14a" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2021-04-08T13:23:00+05:30" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Using Go Channels - Part 2 - Buffered Channels" /> <meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"g14a"},"dateModified":"2021-04-08T13:23:00+05:30","datePublished":"2021-04-08T13:23:00+05:30","description":"A Tiny Recap","headline":"Using Go Channels - Part 2 - Buffered Channels","mainEntityOfPage":{"@type":"WebPage","@id":"https://g14a.github.io/posts/using-Go-Channels-p2/"},"url":"https://g14a.github.io/posts/using-Go-Channels-p2/"}</script> <!-- End Jekyll SEO tag --> <title>Using Go Channels - Part 2 - Buffered Channels | g14a </title> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --> <link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"> <link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"> <link rel="manifest" href="/assets/img/favicons/manifest.json"> <meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <!-- Google Fonts --> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"> <link rel="dns-prefetch" href="https://fonts.gstatic.com"> <!-- GA --> <link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"> <link rel="dns-prefetch" href="https://www.google-analytics.com"> <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"> <link rel="dns-prefetch" href="https://www.googletagmanager.com"> <!-- jsDelivr CDN --> <link rel="preconnect" href="cdn.jsdelivr.net"> <link rel="dns-prefetch" href="cdn.jsdelivr.net"> <!-- Bootstrap --> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"> <!-- Font Awesome --> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <link rel="preload" href="/assets/css/post.css" as="style"> <link rel="stylesheet" href="/assets/css/post.css"> <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"> <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <!-- JavaScripts --> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script async src="/assets/js/post.min.js"></script> <!-- PWA --> <script defer src="/app.js"></script> <!-- GA --> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <!-- Global site tag (gtag.js) - Google Analytics --> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-5XJNKPTFP0"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-5XJNKPTFP0'); }); </script> </head> <body data-spy="scroll" data-target="#toc"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <div id="sidebar" class="d-flex flex-column align-items-end"> <div class="profile-wrapper text-center"> <div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a> </div> <div class="site-title mt-3"> <a href="/">g14a</a> </div> <div class="site-subtitle font-italic">Thoughts and Knowledge.</div> </div><!-- .profile-wrapper --> <ul class="w-100"> <!-- home --> <li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a> </li> <!-- the real tabs --> <li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a> </li> <!-- .nav-item --> <li class="nav-item"> <a href="/tabs/opensource/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>OPEN SOURCE</span> </a> </li> <!-- .nav-item --> <li class="nav-item"> <a href="/tabs/projects/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a> </li> <!-- .nav-item --> <li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a> </li> <!-- .nav-item --> <li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a> </li> <!-- .nav-item --> <li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a> </li> <!-- .nav-item --> </ul> <!-- ul.nav.flex-column --> <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/g14a" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gowtham.m81197','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/gowtham-munukutla/" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> </div> <!-- .sidebar-bottom --> </div><!-- #sidebar --> <!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <div id="topbar-wrapper" class="row justify-content-center topbar-down"> <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Using Go Channels - Part 2 - Buffered Channels</span> </span><!-- endof #breadcrumb --> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i> <div id="topbar-title"> Post </div> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span> </div> </div> <div id="main-wrapper"> <div id="main"> <!-- Refactor the HTML structure. --> <!-- In order to allow a wide table to scroll horizontally, we suround the markdown table with `<div class="table-wrapper">` and `</div>` --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --> <!-- Add attribute 'hide-bullet' to the checkbox list --> <!-- return --> <div class="row"> <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <h1 data-toc-skip>Using Go Channels - Part 2 - Buffered Channels</h1> <div class="post-meta text-muted d-flex flex-column"> <!-- Published date and author --> <div> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Apr 8, 2021, 1:23 PM +0530" > Apr 8, 2021 <i class="unloaded">2021-04-08T13:23:00+05:30</i> </span> by <span class="author"> g14a </span> </div> <div> <!-- lastmod --> <!-- read time --> <!-- Calculate the post's reading time, and display the word count in tooltip --> <!-- return element --> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1295 words">7 min</span> <!-- page views --> </div> </div> <!-- .post-meta --> <div class="post-content"> <!-- Using lozad. See: <https://github.com/ApoorvSaxena/lozad.js#usage> --> <h2 id="a-tiny-recap"><strong>A Tiny Recap</strong></h2> <p>In the earlier section <a href="https://g14a.github.io/posts/using-Go-Channels-p1/">Part -1</a> , we have learnt:</p> <ul> <li>What channels are</li> <li>How we initialize them</li> <li>How we read from and write into a channel</li> <li>How we make goroutines communicate with channels</li> </ul> <p>Until now we were dealing with unbuffered channels. Meaning, we know that the channel is basically a queue, but we didn’t know its size. We didn’t know how many data elements it could fit inside it at a time.</p> <p>But when we tried different approaches and started playing around, we understand that only one data element could fit inside an unbuffered channel at a time. That is the reason they’re blocking in nature. They won’t be able to take in another data element unless the first one is delivered. And for the first one to be delivered, there needs to be a receiver on the other end.</p> <p><span style="color:#FF0266"><b>An unbuffered channel contains only 1 item and it blocks all sends until there is a receiver.</b></span></p> <h2 id="introduction-to-buffered-channels"><strong>Introduction to Buffered channels</strong></h2> <p>We initialize a buffered channel by giving a second parameter to the holy <code class="language-plaintext highlighter-rouge">make</code> command. By default it takes in a <code class="language-plaintext highlighter-rouge">capacity</code> of <code class="language-plaintext highlighter-rouge">0</code> which is becomes an unbuffered channel.</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">ch1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div> <p>Now you may ask:</p> <blockquote> <p>So now that we have declared a channel with a size <code class="language-plaintext highlighter-rouge">value</code>, the sends no longer block the goroutine?</p> </blockquote> <p>Yes they do, but not until the buffer is full.</p> <p><span style="color:#FF0266"><b>Pushing data to a buffered channel doesn’t block, unless the capacity of the buffer is completely filled.</b></span></p> <p>We can see the difference between both of them here:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Unbuffered Channel</th> <th>Buffered Channel</th> </tr> </thead> <tbody> <tr> <td>value == 0</td> <td>value &gt; 0</td> </tr> <tr> <td>Synchronous i.e blocking</td> <td>Asynchronous until it reaches value</td> </tr> </tbody> </table></div> <p>Let us create a buffered channel and try to communicate with the goroutine.</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"math"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">float64</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
    <span class="k">go</span> <span class="n">write</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">10</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">20</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">30</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">40</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">50</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"main exits"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">write</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span> <span class="kt">float64</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">float</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="n">ch</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">Log</span><span class="p">(</span><span class="n">float</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div> <p>The above program gives the following output:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>main exits
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <p>This is because we exactly gave the channel 5 values and it equals its capacity precisely.</p> <p>Now let’s see what happens if we give it one more data element. Your main function would look like this:</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">float64</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
    <span class="k">go</span> <span class="n">write</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">10</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">20</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">30</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">40</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">50</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">60</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"main exits"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div> <p>This time you might get a variety of outputs like the following:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>2.302585092994046
2.995732273553991
3.4011973816621555
main exits
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>2.302585092994046
2.995732273553991
3.4011973816621555
3.6888794541139363
3.912023005428146
4.0943445622221
main exits
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>2.302585092994046
main exits
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <p>This happens because computation of <code class="language-plaintext highlighter-rouge">log</code> takes some time and it can sometimes depend on other applications running on your machine which take up CPU. For best results, the workaround is to apply a <code class="language-plaintext highlighter-rouge">time.Sleep(time.Second)</code> after sending in all data to the channel.</p> <p>Although we did not get the best results, we proved that goroutines don’t block when the buffered channel gets more data than its capacity.</p> <p>Interestingly, running the above program with <code class="language-plaintext highlighter-rouge">GOMAXPROCS=1</code> gives all the results 99% of the time. This can happen because Go selects a processor in which the main function is already running and immediately assign the new goroutine to the same thread. When <code class="language-plaintext highlighter-rouge">GOMAXPROCS</code> isn’t enabled, it CAN happen that the new goroutine might be assigned to some other system thread on another core. This can cause a little scheduling latency and might give out varied results.</p> <h2 id="something-interesting"><strong>Something Interesting</strong></h2> <p>Let us see if the goroutine and the main function run on the same system thread always.</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"math"</span>
    <span class="s">"runtime"</span>
    <span class="s">"syscall"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Main:System Thread Id:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">syscall</span><span class="o">.</span><span class="n">Gettid</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"GOMAXPROCS=%v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">runtime</span><span class="o">.</span><span class="n">GOMAXPROCS</span><span class="p">(</span><span class="m">8</span><span class="p">))</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">float64</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
    <span class="k">go</span> <span class="n">write</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">10</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">20</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">30</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">40</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">50</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">60</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Main:System Thread Id:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">syscall</span><span class="o">.</span><span class="n">Gettid</span><span class="p">())</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">write</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span> <span class="kt">float64</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Write:System Thread Id:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">syscall</span><span class="o">.</span><span class="n">Gettid</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">6</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">float</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="n">ch</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">Log</span><span class="p">(</span><span class="n">float</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div> <p>We can get varied outputs again.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>Main:System Thread Id:12
<span class="nv">GOMAXPROCS</span><span class="o">=</span>8
Write:System Thread Id:12
2.302585092994046
2.995732273553991
3.4011973816621555
3.6888794541139363
3.912023005428146
4.0943445622221
Main:System Thread Id:14
</pre></td></tr></tbody></table></code></div></div> <p>We notice that the <code class="language-plaintext highlighter-rouge">write</code> goroutine is mapped to a thread with an id 12. And the main system thread runs on 14. And there is a chance that both of them run on the same thread too.</p> <h2 id="reading-from-a-buffered-channel"><strong>Reading from a buffered channel</strong></h2> <p>Buffered channels are readable even if their capacity isn’t filled. Delivery of data is blocked until the capacity is full but not when you read from it.</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"math"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">float64</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ch</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="n">ch</span><span class="p">))</span>

    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">10</span>
    <span class="n">ch</span> <span class="o">&lt;-</span> <span class="m">20</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">ch</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">ch</span><span class="p">)</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ch</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="n">ch</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div> <p>This gives the output:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>2 3 
10
20
0 3
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <p>We see that the buffer did not even reach its capacity, but it lets us read from it. We also try to understand the difference between the length and capacity of the channel here.</p> <p>The capacity of the channel doesn’t change once declared in the <code class="language-plaintext highlighter-rouge">make</code> function. The <code class="language-plaintext highlighter-rouge">len</code> keeps changing as values are added and read from the buffer. We see that after we read both the values from the channel, the <code class="language-plaintext highlighter-rouge">len</code> becomes <code class="language-plaintext highlighter-rouge">0</code>.</p> <h2 id="fun-stuff"><strong>Fun stuff</strong></h2> <p>Until now we’ve tried sending data into a channel in the main function, and reading it in a goroutine. Can we do the opposite? Absolutely.</p> <p>When we run the following program,</p> <div class="language-go highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
    <span class="k">go</span> <span class="n">send</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">val</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">ch</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">ch</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="n">ch</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">send</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">ch</span> <span class="o">&lt;-</span> <span class="n">i</span>
    <span class="p">}</span>
    <span class="nb">close</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div> <p>we get this:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>0 3 3
1 3 3
2 2 3
3 1 3
4 0 3
<span class="nv">$ </span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div> <p>Notice how the length of the channel is <code class="language-plaintext highlighter-rouge">3</code> even after reading the first element <code class="language-plaintext highlighter-rouge">0</code>. This is because the element <code class="language-plaintext highlighter-rouge">3</code> is inserted immediately into the channel in the 4th iteration of the for loop.</p> <h2 id="key-points-learnt"><strong>Key points learnt</strong></h2> <ul> <li>An unbuffered channel contains only 1 item and it blocks all sends until there is a receiver.</li> <li>Pushing data to a buffered channel doesn’t block, unless the capacity of the buffer is completely filled.</li> <li>You can read from buffered channels even if their capacity isn’t filled.</li> </ul> <h2 id="conclusion"><strong>Conclusion</strong></h2> <p>Hope you enjoyed the second part of the tutorial. In the next one we talk about Read/Write Channels and Select.</p> <p>Check it out at <a href="https://g14a.github.io/posts/using-Go-Channels-p3/">Part-3 Read/Write Channels &amp; Select</a></p> <p>Please reach out to me via email(or any social media linked down below) if you think I haven’t covered something which you consider important.</p> <p>Thank you 😁</p> </div> <div class="post-tail-wrapper text-muted"> <!-- categories --> <div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/tutorials/'>tutorials</a> </div> <!-- tags --> <div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/golang/" class="post-tag no-text-decoration" >golang</a> <a href="/tags/channels/" class="post-tag no-text-decoration" >channels</a> <a href="/tags/concurrency/" class="post-tag no-text-decoration" >concurrency</a> </div> <div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"> <div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author. </div> <!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --> <div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Using Go Channels - Part 2 - Buffered Channels - g14a&url=https://g14a.github.io/posts/using-Go-Channels-p2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Using Go Channels - Part 2 - Buffered Channels - g14a&u=https://g14a.github.io/posts/using-Go-Channels-p2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Using Go Channels - Part 2 - Buffered Channels - g14a&url=https://g14a.github.io/posts/using-Go-Channels-p2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span> </div> </div><!-- .post-tail-bottom --> </div><!-- div.post-tail --> </div> <!-- .post --> </div> <!-- #post-wrapper --> <!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"> <div class="access"> <div id="access-lastmod" class="post"> <span>Recent Update</span> <ul class="post-content pl-0 pb-1 ml-1 mt-2"> <li><a href="/posts/interfaces/">How I learnt Go Interfaces</a></li> <li><a href="/posts/using-Go-Channels-p1/">Using Go Channels - Part 1 - Introduction to Channels</a></li> <li><a href="/posts/using-Go-Channels-p3/">Using Go Channels - Part 3 - Read/Write Channels & Select</a></li> <li><a href="/posts/using-Go-Channels-p4/">Using Go Channels - Part 4 - Image Processing with Channels</a></li> <li><a href="/posts/using-Go-Channels-p5/">Using Go Channels - Part 4 - Image Processing with Channels - Part 2</a></li> </ul> </div> <!-- #access-lastmod --> <div id="access-tags"> <span>Trending Tags</span> <div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/channels/">channels</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/exercise/">exercise</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/cache/">cache</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/cobra/">cobra</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/heroku/">heroku</a> </div> </div> </div> <!-- .access --> <div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span> <nav id="toc" data-toggle="toc"></nav> </div> </div> <!-- #panel-wrapper --> </div> <!-- .row --> <div class="row"> <div class="col-12 col-lg-11 col-xl-8"> <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --> <!-- The total size of related posts --> <!-- An random integer that bigger than 0 --> <!-- Equals to TAG_SCORE / {max_categories_hierarchy} --> <!-- Fill with the other newlest posts --> <div id="related-posts" class="mt-5 mb-2 mb-sm-4"> <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3> <div class="card-deck mb-4"> <div class="card"> <a href="/posts/using-Go-Channels-p1/"> <div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Apr 6, 2021 <i class="unloaded">2021-04-06T13:23:00+05:30</i> </span> <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Using Go Channels - Part 1 - Introduction to Channels</h3> <div class="text-muted small"> <p> Introduction We know that Goroutines are independently executing user space threads. Imagine an office workspace where ten employees are working towards a customer satisfying goal. These ten empl... </p> </div> </div> </a> </div> <div class="card"> <a href="/posts/using-Go-Channels-p3/"> <div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Apr 10, 2021 <i class="unloaded">2021-04-10T13:23:00+05:30</i> </span> <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Using Go Channels - Part 3 - Read/Write Channels & Select</h3> <div class="text-muted small"> <p> A Tiny recap In the earlier section Part -2 , we have learnt: What buffered channels are Reading and writing to a buffered channel Communicating with goroutines with buffered channels Ha... </p> </div> </div> </a> </div> <div class="card"> <a href="/posts/using-Go-Channels-p4/"> <div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Apr 15, 2021 <i class="unloaded">2021-04-15T18:30:00+05:30</i> </span> <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Using Go Channels - Part 4 - Image Processing with Channels</h3> <div class="text-muted small"> <p> A Tiny Recap In the earlier section Part - 3 , we have learnt: What read and write specific channels are How we use select in the context of goroutines Finally, how we apply timeouts in se... </p> </div> </div> </a> </div> </div> <!-- .card-deck --> </div> <!-- #related-posts --> <!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <div class="post-navigation d-flex justify-content-between"> <a href="/posts/using-Go-Channels-p1/" class="btn btn-outline-primary"> <p>Using Go Channels - Part 1 - Introduction to Channels</p> </a> <a href="/posts/using-Go-Channels-p3/" class="btn btn-outline-primary"> <p>Using Go Channels - Part 3 - Read/Write Channels & Select</p> </a> </div> </div> <!-- #post-extend-wrapper --> </div> <!-- .col-* --> </div> <!-- .row --> <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js --> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <footer class="d-flex w-100 justify-content-center"> <div class="d-flex justify-content-between align-items-center"> <div class="footer-left"> <p class="mb-0"> © 2024 <a href="https://twitter.com/username">g14a</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span> </p> </div> <div class="footer-right"> <p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme. </p> </div> </div> <!-- div.d-flex --> </footer> </div> <!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <div id="search-result-wrapper" class="d-flex justify-content-center unloaded"> <div class="col-12 col-xl-11 post-content"> <div id="search-hints"> <h4 class="text-muted mb-4">Trending Tags</h4> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/channels/">channels</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/exercise/">exercise</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/cache/">cache</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/cobra/">cobra</a> <a class="post-tag" href="/tags/databases/">databases</a> <a class="post-tag" href="/tags/heroku/">heroku</a> </div> <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div> </div> </div> </div> <!-- #main-wrapper --> <div id="mask"></div> <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://g14a.github.io{url}">{title}</a> <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div> <div><i class="fa fa-tag fa-fw"></i>{tags}</div> </div> <p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> </body> </html>
